@model CinemaShare.Models.ViewModels.TicketsIndexViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h1 class="text-center">My tickets</h1>
<hr />
@if (Model.Tickets?.Count == 0)
{
    <h4>No reservations made yet.</h4>
    <a asp-action="Index" asp-controller="Projections">Go reserve one!</a>
}
else
{
    <ul>
        @foreach (var ticket in Model.Tickets)
        {
            <li class="list-unstyled col-md-12 py-3 box-hover">
                <div class="col-md-8 d-flex justify-content-around">
                    <div>
                        <h5>Cinema: @ticket.CinemaName</h5>
                        <h5>Film: @ticket.FilmTitle</h5>
                    </div>
                    <div>
                        <h5>Ticket type: @ticket.Type.ToString()</h5>
                        <h5>Date: @ticket.ProjectionDate.ToString("dd/MM/yyyy HH:mm")</h5>
                    </div>
                    <div>
                        <h5>Projection type: @ticket.ProjectionType.ToString().Substring(1)</h5>
                        <div class="d-flex justify-content-around">
                            <h5>Seat: @ticket.Seat</h5>
                            <h5>Price: @ticket.Price</h5>
                        </div>
                    </div>
                </div>
                <ul class="col-md-4 list-unstyled">
                    <li>
                        <form asp-controller="Tickets" asp-action="Update" asp-route-id="@ticket.Id" class="py-1" method="get">
                            <input class="btn btn-primary" type="submit" value="Change ticket" />
                        </form>
                    </li>
                    <li>
                        <form asp-controller="Tickets" asp-action="Delete" asp-route-id="@ticket.Id" onclick="return confirm('Are you sure you want to cancel your reservation?');" class="py-1" method="post">
                            <input class=" btn btn-danger" type="submit" value="Deny ticket" />
                        </form>
                    </li>
                </ul>
            </li>
        }
    </ul>
}